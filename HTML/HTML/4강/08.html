<!DOCTYPE html><!--시작을 html 형식으로 지정-->
<html lang="en"><!--언어 english-->
	<head><!--head 시작-->
		<meta charset="UTF-8"><!--작성 형태는 UTF-8로 한다.-->
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>이벤트 흐름</title> <!--title시작 문구 작성 title종료-->
    </head><!--head종료-->
    <body> <!--body 시작-->
        <!--p 태그 span 인라인 블록 작성-->
        <p style="color:blue">이것은
            <span style="color:red" id="span"> 문장입니다.</span></p>
        <form><!--form 시작-->
            <input type="text" name="s"> <!--input 태그-->
            <input type="button" value="테스트" id="button"> <!--input 태그-->
            <hr><!--horizontal rule-->
        </form><!--form 종료-->
        <div id="div" style="color: green"></div> <!--div 박스 색상 green-->
        <script> // script 시작
            var div = document.getElementById("div"); // 이벤트 메시지 출력 공간
            var button = document.getElementById("button"); // button 변수 ID = 'button'값 지정

            // body 객체에 캡쳐 리스너 등록
            document.body.addEventListener("click",capture,true); // 캡쳐 단계(1)

            // 타겟 객체에 버블 리스너 등록
            button.addEventListener("click",bubble,false); // 버블 단계(2)

            // body 객체에 버블 리스너 등록
            document.body.addEventListener("click",bubble,false); // 버블 단계(3)

            function capture(e){ // e는 이벤트 객체
                var obj = e.currentTarget; // 현재 이벤트를 받은 DOM 객체
                var tagName = obj.tagName; // 태그 이름
                div.innerHTML += "<br>capture 단계: "+ tagName + "태그" + e.type + "이벤트";}
            
            function bubble(e){ // e는 이벤트 객체
                var obj = e.currentTarget; // 현재 이벤트를 받은 DOM 객체
                var tagName = obj.tagName; // 태그 이름
                div.innerHTML += "<br>bubble 단계: "+ tagName + "태그" + e.type + "이벤트";}
        </script><!--스크립트 종료-->
    </body><!--body 종료-->
</html><!--html 종료-->